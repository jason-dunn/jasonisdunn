@inherits LayoutComponentBase
@using jasonisdunn.Shared;

@if (!collapseNavMenu)
{
    <div class="page">  
        <div class="sidebar">
            <NavMenu />
        </div>     
        <main>

            @if (!LoggedIn)
            {
                <div>   
                    <MudAppBar Color="Color.Transparent" Fixed="true" Elevation="0">
                        <MudAppBarSpacer />
                        <MudTooltip Text="Register">
                            <MudIconButton Icon="@Icons.Material.Rounded.Assignment" Variant="Variant.Filled"Color="Color.Info" Size="Size.Small" Link="http://jasonisdunn.tech"
           Target="_blank" HtmlTag="Register" Style="margin:10px;" ></MudIconButton> 
                        </MudTooltip>
                        <MudTooltip Text="Login">
                            <MudIconButton Icon="@Icons.Material.Rounded.Login" Variant="Variant.Filled"  Color="Color.Info" Size="Size.Small" Link="http://jasonisdunn.tech"
           Target="_blank">Login</MudIconButton>
                        </MudTooltip>
                    </MudAppBar>  

                    <table class="hiddentable">
                        <tr><td></td>
                            <td><table class="maintable" >
                                    <tr style="height:3px">
                                        <td colspan="10"></td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:8px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:center">

                                            <i  aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1" style=" text-align:center">

                                            <i  aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:10px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:left"></td>
                                        <td colspan="1" style=" text-align:left"></td>
                                    </tr>
                                </table>  
                            </td>
                        </tr>
                    </table>
                </div>
            }
            else
            {
                <div>
                    <table class="hiddentable">
                        <tr><td></td>
                            <td><table class="alttable" >
                                    <tr style="height:3px">
                                        <td colspan="10"></td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:5px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:center">
                                            <i class="fa fa-smile-o" aria-hidden="true"></i>
                                        </td>
                                        <td colspan="1" style="text-align:center">
                                            <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                                        </td>
                                    </tr>
                                    <tr style="height:10px">
                                        <td colspan="10"></td>
                                        <td colspan="1">Hello, @UserName!</td>
                                        <td colspan="1" style=" text-align:center"><NavLink href="" class="nav-item nav-link">Logout</NavLink></td>
                                    </tr>
                                </table>  
                            </td>
                        </tr>
                    </table>  
                </div>
            }
            <article class="content px-4">
                @Body 
                <div class="my-top-row">
                <MudToggleIconButton Toggled="@collapseNavMenu" ToggledChanged="ToggleNavMenu"
                     Icon="@Icons.Material.Filled.Menu" Color="@Color.Dark" Title="Off"
                     ToggledIcon="@Icons.Material.Filled.Menu" ToggledColor="@Color.Dark" ToggledTitle="On"
                     Style="position:absolute; width:30px; left:150px; top:45vh"/>
                     </div>
            </article>
        </main>
    </div>
}
else
{
    <div class="page">    
        <main>
            @if (!LoggedIn)
            {
                <div>   
                    <MudAppBar Color="Color.Transparent" Fixed="true" Elevation="0">
                        <MudAppBarSpacer />
                        <MudTooltip Text="Register">
                            <MudIconButton Icon="@Icons.Material.Rounded.Assignment" Variant="Variant.Filled"Color="Color.Info" Size="Size.Small" Link="http://jasonisdunn.tech"
           Target="_blank" HtmlTag="Register" Style="margin:10px;" ></MudIconButton> 
                        </MudTooltip>
                        <MudTooltip Text="Login">
                            <MudIconButton Icon="@Icons.Material.Rounded.Login" Variant="Variant.Filled"  Color="Color.Info" Size="Size.Small" Link="http://jasonisdunn.tech"
           Target="_blank">Login</MudIconButton>
                        </MudTooltip>
                    </MudAppBar>  

                    <table class="hiddentable">
                        <tr><td></td>
                            <td><table class="maintable" >
                                    <tr style="height:3px">
                                        <td colspan="10"></td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:8px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:center">

                                            <i  aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1" style=" text-align:center">

                                            <i  aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:10px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:left"></td>
                                        <td colspan="1" style=" text-align:left"></td>
                                    </tr>
                                </table>  
                            </td>
                        </tr>
                    </table>
                </div>
            }
            else
            {
                <div>
                    <table class="hiddentable">
                        <tr><td></td>
                            <td><table class="alttable" >
                                    <tr style="height:3px">
                                        <td colspan="10"></td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                        <td colspan="1">
                                            <i class="" aria-hidden="true">   </i>
                                        </td>
                                    </tr>
                                    <tr style="height:5px">
                                        <td colspan="10"></td>
                                        <td colspan="1" style=" text-align:center">
                                            <i class="fa fa-smile-o" aria-hidden="true"></i>
                                        </td>
                                        <td colspan="1" style="text-align:center">
                                            <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                                        </td>
                                    </tr>
                                    <tr style="height:10px">
                                        <td colspan="10"></td>
                                        <td colspan="1">Hello, @UserName!</td>
                                        <td colspan="1" style=" text-align:center"><NavLink href="" class="nav-item nav-link">Logout</NavLink></td>
                                    </tr>
                                </table>  
                            </td>
                        </tr>
                    </table>  
                </div>
            }
            <article class="content px-4">
                     <div class="my-top-row">
                     <MudToggleIconButton Toggled="@collapseNavMenu" ToggledChanged="ToggleNavMenu"
                     Icon="@Icons.Material.Filled.Menu" Color="@Color.Dark" Title="Off"
                     ToggledIcon="@Icons.Material.Filled.Menu" ToggledColor="@Color.Dark" ToggledTitle="On"
                     Style="position:absolute; width:30px; left:0px; top:45vh"/>
                     </div>
                @Body 
            </article>
        </main>
    </div>   
}
@code{
    bool LoggedIn, LoggedOut;
    string UserName;
    protected async override void OnInitialized()
    {  
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
        }
        StateHasChanged();
    }

    public void Dispose()
    {
    }
    public bool collapseNavMenu { get; set; }
    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu(bool toggled)
    {
        collapseNavMenu = toggled;
        if (collapseNavMenu)
        {
                collapseNavMenu = !collapseNavMenu;
                collapseNavMenu = true;   
        }  
        else
        {
                collapseNavMenu = false; 
        }  
          StateHasChanged();
    }
}